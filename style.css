/* --- Base --- */
:root{
  --bg1:#0b1020;
  --bg2:#220b3a;
  --card:#0f1630cc;
  --text:#f7f2ff;
  --muted:#cdb8ff;
  --accent:#ff4fd8;
  --accent2:#6ef3ff;
  --good:#3cff9a;
  --shadow: 0 18px 60px rgba(0,0,0,.55);
  --radius: 26px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background: radial-gradient(1200px 900px at 20% 10%, #2f1cff30, transparent 60%),
              radial-gradient(900px 800px at 80% 20%, #ff4fd825, transparent 55%),
              radial-gradient(900px 900px at 40% 90%, #6ef3ff1f, transparent 55%),
              linear-gradient(135deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

/* Orbs */
.bg-orb{
  position:fixed; inset:auto;
  width:520px; height:520px;
  border-radius:50%;
  filter: blur(48px);
  opacity:.45;
  z-index:0;
  pointer-events:none;
  mix-blend-mode: screen;
  animation: floaty 8s ease-in-out infinite;
}
.orb1{left:-120px; top:-140px; background: radial-gradient(circle at 30% 30%, #ff4fd8, transparent 60%);}
.orb2{right:-180px; top:120px; background: radial-gradient(circle at 40% 35%, #6ef3ff, transparent 60%); animation-duration: 10s;}
.orb3{left:25%; bottom:-240px; background: radial-gradient(circle at 45% 40%, #7c5cff, transparent 60%); animation-duration: 12s;}

@keyframes floaty{
  0%,100%{transform: translateY(0) translateX(0) scale(1)}
  50%{transform: translateY(22px) translateX(14px) scale(1.03)}
}

/* Hearts canvas */
#hearts{
  position:fixed;
  inset:0;
  z-index:1;
  pointer-events:none;
  opacity:.75;
}

/* Layout */
.app{
  position:relative;
  z-index:2;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:24px 14px 44px;
}

.topbar{
  width:min(980px, 95vw);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin:10px 0 18px;
}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
}
.logo{
  font-size:22px;
  filter: drop-shadow(0 6px 20px #ff4fd880);
}
.brand-title{
  font-weight:800;
  letter-spacing:.4px;
  opacity:.95;
}

.progress{
  display:flex;
  align-items:center;
  gap:12px;
}
.progress-track{
  width:160px;
  height:10px;
  border-radius:999px;
  background:#ffffff1a;
  overflow:hidden;
  box-shadow: inset 0 0 0 1px #ffffff1f;
}
.progress-fill{
  height:100%;
  width:0%;
  border-radius:999px;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  box-shadow: 0 10px 40px #ff4fd840;
  transition: width .55s ease;
}
.progress-text{
  font-weight:700;
  color: #efe6ff;
  opacity:.85;
  min-width:60px;
  text-align:right;
}

/* Card */
.card{
  width:min(980px, 95vw);
  position:relative;
  border-radius: var(--radius);
  background: linear-gradient(180deg, #111a39b3, #0b1020b3);
  box-shadow: var(--shadow);
  border: 1px solid #ffffff1f;
  overflow:hidden;
  padding: 22px;
}

.card-glow{
  position:absolute;
  inset:-2px;
  background: radial-gradient(600px 240px at 20% 20%, #ff4fd840, transparent 55%),
              radial-gradient(520px 260px at 80% 40%, #6ef3ff2b, transparent 55%);
  filter: blur(22px);
  opacity:.85;
  pointer-events:none;
}

/* Screens */
.screen{
  position:relative;
  display:none;
  animation: enter .55s ease both;
}
.screen.active{display:block}
@keyframes enter{
  from{opacity:0; transform: translateY(10px) scale(.985)}
  to{opacity:1; transform: translateY(0) scale(1)}
}

.hero{
  padding: 18px 10px 8px;
  text-align:center;
}
.badge{
  display:inline-block;
  padding:7px 12px;
  border-radius:999px;
  background:#ffffff14;
  border:1px solid #ffffff22;
  backdrop-filter: blur(10px);
  box-shadow: 0 10px 35px rgba(0,0,0,.35);
  margin-bottom:10px;
}
.hero h1{
  font-size: clamp(30px, 4.2vw, 54px);
  margin:10px 0 8px;
  line-height:1.05;
  letter-spacing:.2px;
  text-shadow: 0 8px 40px #ff4fd830;
}
.subtitle{
  color: #efe6ff;
  opacity:.9;
  font-size: 16px;
  line-height:1.6;
  max-width: 720px;
  margin: 0 auto 18px;
}
.cta-row{
  display:flex;
  justify-content:center;
  gap:12px;
  margin: 10px 0 6px;
}
.hint{
  margin-top:16px;
  color: var(--muted);
  opacity:.95;
  font-size: 13.5px;
}

/* Question blocks */
.screen-head{
  padding: 8px 6px 10px;
}
.pill{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  background: linear-gradient(90deg, #ff4fd820, #6ef3ff18);
  border:1px solid #ffffff24;
  margin-bottom:10px;
  font-weight:800;
  letter-spacing:.4px;
}
h2{
  margin:0;
  font-size: clamp(22px, 2.4vw, 34px);
  line-height:1.15;
  text-shadow: 0 10px 40px #000;
}

.options{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.opt{
  border:1px solid #ffffff24;
  background: #ffffff10;
  color: var(--text);
  padding: 14px 14px;
  border-radius: 18px;
  cursor:pointer;
  font-weight:750;
  letter-spacing:.2px;
  transition: transform .15s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  box-shadow: 0 10px 40px rgba(0,0,0,.25);
  backdrop-filter: blur(10px);
  text-align:left;
}
.opt:hover{
  transform: translateY(-2px);
  background: #ffffff18;
  border-color:#ffffff3a;
}
.opt:active{transform: translateY(0px) scale(.995)}
.opt.correct{
  background: linear-gradient(135deg, #3cff9a25, #6ef3ff10);
  border-color:#3cff9a70;
  box-shadow: 0 14px 55px #3cff9a1a;
}
.opt.wrong{
  background: linear-gradient(135deg, #ff4f6a1f, #ffffff0e);
  border-color:#ff4f6a70;
}

/* Notes */
.note{
  margin-top: 16px;
  padding: 14px 14px;
  border-radius: 18px;
  border:1px solid #ffffff22;
  background: #00000024;
  backdrop-filter: blur(10px);
}
.note p{
  margin:0;
  color:#efe6ff;
  opacity:.93;
  line-height:1.7;
}
.em{
  color: #fff;
  font-weight: 900;
  text-shadow: 0 8px 24px #ff4fd840;
}

/* Buttons */
.btn{
  border:none;
  cursor:pointer;
  border-radius: 999px;
  padding: 12px 16px;
  font-weight:900;
  letter-spacing:.2px;
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease, background .2s ease;
}
.btn:active{transform: scale(.985)}
.btn-primary{
  color:#0a0a12;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  box-shadow: 0 18px 60px #ff4fd82f;
}
.btn-primary:hover{filter: brightness(1.05)}
.btn-ghost{
  color: var(--text);
  background: #ffffff12;
  border:1px solid #ffffff2a;
}
.btn-ghost:hover{background:#ffffff18}

/* Final page */
.final-wrap{
  padding: 10px 6px 6px;
  text-align:center;
}
.birthday-badge{
  display:inline-block;
  padding:8px 14px;
  border-radius:999px;
  border:1px solid #ffffff28;
  background:#ffffff10;
  backdrop-filter: blur(10px);
  margin: 6px 0 14px;
}
.final-title{
  font-size: clamp(34px, 4.6vw, 64px);
  margin: 8px 0 12px;
  letter-spacing:.2px;
  background: linear-gradient(90deg, #fff, #ffd6f4, #d7fbff);
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
  text-shadow: 0 18px 80px #ff4fd832;
  animation: pulseGlow 2.6s ease-in-out infinite;
}
@keyframes pulseGlow{
  0%,100%{filter: drop-shadow(0 18px 70px #ff4fd830)}
  50%{filter: drop-shadow(0 22px 90px #6ef3ff22)}
}
.final-msg{
  max-width: 820px;
  margin: 0 auto 14px;
  color:#efe6ff;
  opacity:.95;
  line-height:1.85;
  font-size: 16.5px;
}
.final-actions{
  margin-top: 18px;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:12px;
}
.signature{
  margin-top: 18px;
  color: var(--muted);
  opacity:.95;
}
.signature strong{color:#fff}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index: 20;
  padding: 18px;
}
.modal.show{display:flex}
.modal-card{
  width:min(460px, 92vw);
  border-radius: 22px;
  background: linear-gradient(180deg, #121a38, #0b1020);
  border:1px solid #ffffff22;
  box-shadow: 0 25px 80px rgba(0,0,0,.65);
  padding: 18px;
  animation: pop .28s ease both;
}
@keyframes pop{
  from{transform: scale(.94); opacity:.7}
  to{transform: scale(1); opacity:1}
}
.modal-top{
  text-align:center;
  padding: 8px 0 10px;
}
.modal-title{
  font-weight: 1000;
  font-size: 24px;
}
.modal-sub{
  color: var(--muted);
  margin-top: 4px;
}
.gif-wrap{
  margin: 12px 0 14px;
  border-radius: 18px;
  overflow:hidden;
  border: 1px solid #ffffff22;
  box-shadow: 0 18px 65px rgba(0,0,0,.45);
}
.gif-wrap img{
  display:block;
  width:100%;
  height:auto;
}

/* Shake effect (wrong answer) */
.shake{
  animation: shake .35s ease both;
}
@keyframes shake{
  0%{transform: translateX(0)}
  20%{transform: translateX(-10px)}
  40%{transform: translateX(10px)}
  60%{transform: translateX(-7px)}
  80%{transform: translateX(7px)}
  100%{transform: translateX(0)}
}

/* Responsive */
@media (max-width:720px){
  .options{grid-template-columns: 1fr;}
  .progress-track{width:120px;}
  .card{padding:16px;}
}
